---
import Layout from "../layouts/Layout.astro";
import directus from "../../lib/directus";
import { readItems } from "@directus/sdk";
import Benefit from "../components/Benefit.astro";
import Navbar from "../components/Navbar.astro";
import Switcher from "../components/Switcher.astro";
import FeaturedSolutionsCard from "../components/FeaturedSolutionsCard.astro";
import { Image } from "astro:assets";
import { htmlStringOne, htmlStringTwo } from "../constants/htmlStrings";
import "./_index.css";
import PriceCard from "../components/PriceCard.astro";
import Footer from "../components/Footer.astro";
import Button from "../components/ui/Button.astro";

const priceCards = await directus.request(readItems("priceCards"));
priceCards.sort(
  (a, b) => a.price_monthly - b.price_monthly
);

const benefits = [
  {
    imageUrl: "/bar-chart.svg",
    title: "Competative pricing",
    description:
      "Certify Instagram, YouTube, and TikTok creators in seconds with compmrehensive audience insights. Make informed desicions with our tool.",
  },
  {
    imageUrl: "/bar-chart.svg",
    title: "Competative pricing",
    description:
      "Certify Instagram, YouTube, and TikTok creators in seconds with compmrehensive audience insights. Make informed desicions with our tool.",
  },
  {
    imageUrl: "/bar-chart.svg",
    title: "Competative pricing",
    description:
      "Certify Instagram, YouTube, and TikTok creators in seconds with compmrehensive audience insights. Make informed desicions with our tool.",
  },
  {
    imageUrl: "/bar-chart.svg",
    title: "Competative pricing",
    description:
      "Certify Instagram, YouTube, and TikTok creators in seconds with compmrehensive audience insights. Make informed desicions with our tool.",
  },
  {
    imageUrl: "/bar-chart.svg",
    title: "Competative pricing",
    description:
      "Certify Instagram, YouTube, and TikTok creators in seconds with compmrehensive audience insights. Make informed desicions with our tool.",
  },
];

const solutionsCards = [
  {
    title: "Unlock Precise Influencer Analytics",
    description:
      "Certify Instagram, YouTube, and TikTok creators in seconds with compmrehensive audience insights. Make informed desicions with our tool.",
    miniCard: htmlStringOne,
  },
  {
    title: "Unlock Precise Influencer Analytics",
    description:
      "Certify Instagram, YouTube, and TikTok creators in seconds with compmrehensive audience insights. Make informed desicions with our tool.",
    miniCard: htmlStringTwo,
  },
];

const whyIonkol = [
  {
    imageUrl: "/lightbulb.svg",
    title: "Precise Insights",
    description:
      "Get accurate, real-time data that helps you make smarter, faster decisions.",
  },
  {
    imageUrl: "/monitor.svg",
    title: "Precise Insights",
    description:
      "Get accurate, real-time data that helps you make smarter, faster decisions.",
  },
  {
    imageUrl: "/piggy-bank.svg",
    title: "Precise Insights",
    description:
      "Get accurate, real-time data that helps you make smarter, faster decisions.",
  },
];
---

<script is:inline>
  document.addEventListener("DOMContentLoaded", () => {
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("visible");
          }
        });
      },
      {
        threshold: 0.1,
      }
    );

    const cards = document.querySelectorAll(".animate-appear");
    cards.forEach((card) => observer.observe(card));
  });
</script>

<Layout title={"iON"}>
  <Navbar />
  <main class="px-8 relative">

    <!-- Ion explore section -->
    <section class="min-h-screen flex justify-center items-center relative bg-white">
      <!-- Background Circle -->
      <div class="absolute z-0 w-[405px] h-[405px] bg-[#feeff1] rounded-full right-[10%] top-[15%] flex justify-center items-center">
        <div class="h-[90px] rotate-[7.77deg] px-6 py-3 bg-white rounded-xl shadow flex-col justify-start items-start">
          <div class="flex gap-3 mb-2">
            <div class="p-2 bg-[#fea598] rounded-full">
              <Image
                width="16"
                height="16"
                alt="Instagram icon"
                src="/instagram-icon.svg"
              />
            </div>
            <div class="p-2 bg-[#fea598] rounded-full">
              <Image
                width="16"
                height="16"
                alt="TikTok icon"
                src="/tiktok-icon.svg"
              />
            </div>
            <div class="p-2 bg-[#fea598] rounded-full">
              <Image
                width="16"
                height="16"
                alt="YouTube icon"
                src="/youtube-icon.svg"
              />
            </div>
          </div>
          <div class="self-stretch text-center text-black text-sm font-normal font-['Inter'] leading-relaxed tracking-tight">
            Social Media
          </div>
        </div>
      </div>
    
      <!-- Main Content -->
      <div class="flex flex-col items-center justify-center z-10 text-center">
        <p class="text-[#0d0c22] text-2xl font-medium font-['Mulish'] tracking-tight mb-10">
          Harness the power of social data with
        </p>
        <h1 class="text-[#ed707e] text-[130px] font-extrabold font-['Urbanist'] tracking-[2.6px] mb-8">
          ION Explore
        </h1>
        <p class="text-[#9e9ea7] text-lg font-normal font-['Mulish'] tracking-wide mb-14">
          Driving business growth with data through influencer marketing
        </p>
        <button class="h-10 px-10 py-2 bg-[#0d0c22] rounded-lg text-white text-base font-medium font-['Urbanist'] leading-normal tracking-wide hover:bg-[#1a1a2e] active:bg-[#33334d] transition-colors duration-300">
          Book a Demo
        </button>
      </div>
    </section>
    

    <!-- Featured Solutions section -->
    <section class="min-h-screen flex justify-center items-start">
      <div class="w-full mx-auto">
        <h2
          class="text-center text-[#ed707e] text-5xl font-extrabold font-['Urbanist'] tracking-wide mb-14">
          Featured Solutions
        </h2>
        <div class="animate-appear flex justify-center gap-4">
          {solutionsCards.map((card) => (
            <FeaturedSolutionsCard {...card}>
              <!-- Rendering Mini Card Content -->
              <div set:html={card.miniCard} />
            </FeaturedSolutionsCard>
          ))}
        </div>
      </div>
    </section>

    <!-- Benefits section -->
    <section class="h-screen flex justify-center items-center bg-white">
      <div>
        <h2 class="text-center text-[#ed707e] text-5xl font-extrabold font-['Urbanist'] tracking-wide mb-14">
          Benefits
        </h2>
    
        <div class="animate-appear max-w-6xl mx-auto">
          <!-- First Row (Two Columns) -->
          <div class="flex flex-col md:flex-row gap-6 justify-center">
            {benefits.slice(0, 2).map((benefit) => (
              <Benefit {...benefit} />
            ))}
          </div>
    
          <!-- Second Row (Three Columns) -->
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6 justify-center">
            {benefits.slice(2).map((benefit) => (
              <Benefit {...benefit} />
            ))}
          </div>
        </div>
      </div>
    </section>

    <!-- About ionkol section -->
    <section class="h-screen flex justify-center items-center ">
      <div class="animate-appear bg-[#fff7f8]  transform opacity-0 translate-y-10 rounded-[40px] p-32 relative">
        <h2 class="text-center text-[#0d0c22] text-5xl font-semibold font-['Urbanist'] tracking-wide mb-5">
          About IonKOL
        </h2>
        
        <p class="text-center text-[#0d0c22] text-lg font-normal font-['Mulish'] leading-7 tracking-tight mb-20 max-w-[875px]">
          IonKOL takes the guesswork out of influencer marketing. We empower businesses to effortlessly find, evaluate, and partner with the right influencers, driving impactful marketing campaigns that deliver results. With our intuitive platform, starting with Instagram, you get actionable insights at a fraction of the cost, ensuring your brand reaches its full potential.
        </p>
        
        <div class="flex justify-around gap-10">
          <div class="space-y-2">
            <div class="text-center text-[#ed707e] text-[82px] font-bold font-['Urbanist'] leading-tight tracking-wide">
              35+
            </div>
            <p class="text-center text-[#0d0c22] text-lg font-medium font-['Urbanist'] leading-[27px] tracking-tight">
              Metrics for impactful partnership
            </p>
          </div>
    
          <div class="space-y-2">
            <div class="text-center text-[#ed707e] text-[82px] font-bold font-['Urbanist'] leading-tight tracking-wide">
              30+
            </div>
            <p class="text-center text-[#0d0c22] text-lg font-medium font-['Urbanist'] leading-[27px] tracking-tight">
              Advanced filter options
            </p>
          </div>
    
          <div class="space-y-2">
            <div class="text-center text-[#ed707e] text-[82px] font-bold font-['Urbanist'] leading-tight tracking-wide">
              25+
            </div>
            <p class="text-center text-[#0d0c22] text-lg font-medium font-['Urbanist'] leading-[27px] tracking-tight">
              Tools to drive results
            </p>
          </div>
        </div>
      </div>
    </section>
    

    <!-- Why choose ionkol section -->
    <section class="flex flex-col mb-28">
      <h2 class="text-[#0d0c22] text-5xl font-semibold font-['Urbanist'] tracking-wide mb-12">
        Why Choose IonKOL?
      </h2>
      
      <div class="flex justify-center gap-7">
        {whyIonkol.map((card) => (
          <div
            class="animate-appear px-10 py-16 bg-white rounded-[32px] shadow flex flex-col justify-start items-start gap-6">
            <Image src={card.imageUrl} alt={card.title} height={48} width={48} />
            
            <h3 class="text-[#0d0c22] text-3xl font-semibold font-['Urbanist'] leading-[42px] tracking-wide">
              {card.title}
            </h3>
            
            <p class="text-[#0d0c22] text-lg font-normal font-['Open Sans'] leading-7 tracking-tight">
              {card.description}
            </p>
          </div>
        ))}
      </div>
    </section>

    <!-- Price section -->
    <section class="flex justify-center items-start">
      <div class="flex flex-col items-center space-y-14">
        <h2
          class="text-center text-5xl font-extrabold font-['Urbanist'] tracking-wide">
          <span class="text-[#0d0c22]">Pay only for</span>
          <span class="text-[#ed707e]">what you need</span>
        </h2>

        <div class="animate-appear flex flex-col items-center space-y-14">
          <Switcher />
          <div class="flex flex-wrap justify-center gap-6">
            {priceCards?.map((card) => <PriceCard {...card} />)}
          </div>
        </div>
      </div>
    </section>

    <!-- Contact us section -->
    <section class="h-screen flex justify-center items-center">
      <div
        class="animate-appear w-full flex justify-center bg-[#fff7f8] transform opacity-0 translate-y-10 rounded-[40px] p-32 relative">
        <div class="max-w-[654px]">
          <h1
            class="text-center text-[#ed707e] text-5xl font-extrabold font-['Urbanist'] tracking-wide mb-4">
            Get in touch
          </h1>
          <p
            class="text-center text-[#0d0c22] text-base font-medium font-['Mulish'] leading-7 tracking-tight mb-9">
            We're working hard to bring you the best possible experience. LonKol
            will launch soon with powerful tools to enhance your influencer
            marketing strategy. Stay tuned for updates!
          </p>
          <form class="flex gap-3" action="/subscribe" method="POST">
            <input
              type="email"
              name="email"
              placeholder="Email address"
              aria-label="Email address"
              required
              class="flex-1 h-10 px-4 py-2 bg-white rounded-lg border border-[#ffdede] text-base font-medium font-['Urbanist'] leading-normal tracking-wide"
            />
            <Button text="Learn more"/>
          </form>
        </div>
      </div>
    </section>
  </main>
  <Footer />
</Layout>
